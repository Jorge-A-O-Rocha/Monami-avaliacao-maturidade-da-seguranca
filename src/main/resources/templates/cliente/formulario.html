<!DOCTYPE html>
<html lang="en" xmlns:th="http://thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{template.html}">

<head>
    <meta charset="UTF-8">
    <title>Cadastro de Cliente</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.16/jquery.mask.min.js"></script>
    <script>
        $(document).ready(function() {
            $('#cnpj').mask('00.000.000/0000-00', {
                reverse: true
            });

            $('#nomeCliente, #nomeGestor, #nomeEmpresa').on('input', function() {
                this.value = this.value.replace(/[^a-zA-Z\s]/g, '');
            });
        });

        function validateForm() {
            const nomeCliente = document.getElementById('nomeCliente').value;
            const nomeGestor = document.getElementById('nomeGestor').value;
            const regex = /^[a-zA-Z\s]*$/;

            if (!regex.test(nomeCliente)) {
                alert('O campo Nome do Cliente deve conter apenas letras.');
                return false;
            }

            if (!regex.test(nomeGestor)) {
                alert('O campo Nome do Gestor deve conter apenas letras.');
                return false;
            }

            return true;
        }
    </script>
</head>

<body>
    <div layout:fragment="conteudo">
        <div class="box">
            <h1>Cadastro de Cliente</h1>
            <form method="post" action="/cliente" onsubmit="return validateForm()">
                <input type="hidden" name="_method" value="put" th:if="${cliente != null}">
                <input type="hidden" name="id" th:value="${cliente?.id}">

                <div>
                    <label for="cnpj">CNPJ: </label>
                    <input type="text" id="cnpj" name="cnpj" th:value="${cliente?.cnpj}" required>
                </div>
                <div>
                    <label for="nomeCliente">Nome do Cliente: </label>
                    <input type="text" id="nomeCliente" name="nomeCliente" th:value="${cliente?.nomeCliente}">
                </div>

                <div>
                    <label for="descricaoServico">Descrição do Serviço: </label>
                    <input type="text" id="descricaoServico" name="descricaoServico" th:value="${cliente?.descricaoServico}">
                </div>

                <div>
                    <label for="email">Email: </label>
                    <input type="email" id="email" name="email" th:value="${cliente?.email}">
                </div>

                <div>
                    <label for="emailCliente">Email do Cliente: </label>
                    <input type="email" id="emailCliente" name="emailCliente" th:value="${cliente?.emailCliente}">
                </div>

                <div>
                    <label for="idContrato">ID do Contrato: </label>
                    <input type="text" id="idContrato" name="idContrato" th:value="${cliente?.idContrato}">
                </div>

                <div>
                    <label for="nomeEmpresa">Nome da Empresa: </label>
                    <input type="text" id="nomeEmpresa" name="nomeEmpresa" th:value="${cliente?.nomeEmpresa}">
                </div>

                <div>
                    <label for="nomeGestor">Nome do Gestor: </label>
                    <input type="text" id="nomeGestor" name="nomeGestor" th:value="${cliente?.nomeGestor}">
                </div>

                <div>
                    <label for="pontoFocal">Ponto Focal: </label>
                    <input type="text" id="pontoFocal" name="pontoFocal" th:value="${cliente?.pontoFocal}">
                </div>

                <div>
                    <label for="razaoSocial">Razão Social: </label>
                    <input type="text" id="razaoSocial" name="razaoSocial" th:value="${cliente?.razaoSocial}">
                </div>

                <div>
                    <label for="senha">Senha: </label>
                    <input type="password" id="senha" name="senha" th:value="${cliente?.senha}">
                </div>

                <div>
                    <label for="tipoServico">Tipo de Serviço: </label>
                    <input type="text" id="tipoServico" name="tipoServico" th:value="${cliente?.tipoServico}">
                </div>

                <input type="submit" value="Cadastrar">
            </form>
        </div>
</body>

</html>
